<div class="container">
  <br/>
  <h1>Events</h1>
</div>

<br/>

<div class="container">
  <div class="row justify-content-between">
    <div class="col-4">
    </div>
    <div class="col-2">
      <%= button_to 'Create New Event', new_event_path, method: :get, :class => 'btn btn-lg btn-primary btn-blue-background btn-blue-outline' %>
    </div>
  </div>

  <br/>
  <br/>

  <% if @events.any? %>
    <table style="width:100%" id="events" class="table">
      <tbody>
        <tr>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col">Title</th>
          <th scope="col">Attendee Count</th>
          <th scope="col">Last Use</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>

        <% @events.each do |event| %>
          <tr id="event row">
            <td class="dash-buttons">
              <%= button_to 'Event Check-in', event_path(event.id), method: :get, :class => 'btn btn-primary btn-block btn-blue-background btn-blue-outline' %>
            </td>
            <td class="dash-buttons">
              <%= button_to 'Attendee List', event_attendances_path(event.id), method: :get, :class => 'btn btn-secondary btn-block' %>
            </td>
            <td>
              <%= event.title %>
            </td>
            <td>
              <%= event.attendances.size %>
            </td>
            <td>
              <%= event.updated_at.strftime('%Y-%m-%d %I:%M %p') %>
            </td>
            <td>
              <%= button_to 'Edit Event', edit_event_path(event.id), method: :get, :class => 'btn btn-secondary' %>
            </td>
            <td>
              <%= button_to 'X', event_path(event.id), method: :delete, data: { confirm: 'Are you sure? This action cannot be undone.'}, :class => 'btn btn-danger', aria: { label: 'Delete Event' } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <center><h2>No events!</h2></center>
  <% end %>
</div>
